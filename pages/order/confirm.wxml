<!--index.wxml-->
<view  class="public-bg order">
    <form bindsubmit="formSubmit" bindreset="formReset">

        <!-- <radio-group class="radio-group" name="radio-group">
        <label class="radio">线下支付</label>
        <label class="radio" >
            <radio value="1" checked="" name='pay_cash'/><text>是</text>
        </label>
        <label class="radio">
            <radio value="0" checked="true" name='pay_cash'/><text>否</text>
        </label>
    </radio-group> -->

    
    <view class="form-box">

        <view hidden="{{oil_block}}" class="order-type">
            <view class="notice">
                <text>提示：一次下单越多，价格越优惠</text>
                <text class="notice-addr">从地址列表中选择送货地址，最多3个</text>
                <view class="link text-center" bindtap="newAddr">新增地址</view>
            </view>

            <view class="list-title" >地址列表</view>
            <view class="addrs-box" >
                <block wx:for="{{addrs}}" wx:key="id">
                    <view class="m-box" >
                        <view class="m-info" bindtap="selectAddr" data-index="{{ index }}">
                            <view class="m-name fl-left">{{ item.alias }}</view>
                            <view class="m-phone fl-right">+</view>
                            <!-- <view class="m-address">{{item.address}}</view> -->
                        </view>
                    </view>
                </block>
            </view>

            <view class="section oiltype">
                <view class="picker">
                    <view class="section__title">油品</view>
                    <picker bindchange="bindOilChange" value="0" range="{{oil_type}}" range-key="name">
                        <input value="{{ current_oil.name }}" name="oil_id" disabled />
                    </picker>
                </view>
                <view class="unit-price main-color">{{ current_oil.price }}元/吨</view>
            </view>
            
            
            <!-- <button class="btn"  bindtap="showAddrBlock">确定</button> -->

            <view class="m-box" wx:if="{{ current_addr[0] }}">
                <view class="m-info" bindtap="removeAddr" data-index="0">
                    <view class="m-name fl-left">{{ current_addr[0].alias }}</view>
                    <view class="m-phone fl-right">-</view>
                    <!-- <view class="m-address">{{item.address}}</view> -->
                </view>
                <view class="section" >
                    <view class="section__title">重量</view>
                    <input type="number" placeholder="吨" name="weight"  data-index="0" value="{{ current_addr[0].weight }}" bindinput="oilCost" />
                </view>
            </view>

            <view class="m-box" wx:if="{{ current_addr[1] }}">
                <view class="m-info" bindtap="removeAddr" data-index="1">
                    <view class="m-name fl-left">{{ current_addr[1].alias }}</view>
                    <view class="m-phone fl-right">-</view>
                    <!-- <view class="m-address">{{item.address}}</view> -->
                </view>
                <view class="section" >
                    <view class="section__title">重量</view>
                    <input type="number" placeholder="吨" name="weight"  data-index="1" value="{{ current_addr[1].weight }}" bindinput="oilCost" />
                </view>
            </view>

            <view class="m-box" wx:if="{{ current_addr[2] }}">
                <view class="m-info" bindtap="removeAddr" data-index="2">
                    <view class="m-name fl-left">{{ current_addr[2].alias }}</view>
                    <view class="m-phone fl-right">-</view>
                    <!-- <view class="m-address">{{item.address}}</view> -->
                </view>
                <view class="section" >
                    <view class="section__title">重量</view>
                    <input type="number" placeholder="吨" name="weight"  data-index="2" value="{{ current_addr[2].weight }}" bindinput="oilCost" />
                </view>
            </view>

            <view class="addr-btn">
                <!-- <button class="btn"  bindtap="add">新增地址</button> -->
                <button class="btn"  bindtap="showConfirmBlock">确定</button>
            </view>
            
            
        </view>

       <!--  <view hidden="{{addr_block}}" >

            <view class="notice" >从地址列表中选择送货地址，最多3个</view>

            <view class="m-box" wx:if="{{ current_addr[0] }}">
                <view class="m-info" bindtap="removeAddr" data-index="0">
                    <view class="m-name fl-left">{{ current_addr[0].alias }}</view>
                    <view class="m-phone fl-right">-</view>
                </view>
            </view>

            <view class="m-box" wx:if="{{ current_addr[1] }}">
                <view class="m-info" bindtap="removeAddr" data-index="1">
                    <view class="m-name fl-left">{{ current_addr[1].alias }}</view>
                    <view class="m-phone fl-right">-</view>
                </view>
            </view>

            <view class="m-box" wx:if="{{ current_addr[2] }}">
                <view class="m-info" bindtap="removeAddr" data-index="2">
                    <view class="m-name fl-left">{{ current_addr[2].alias }}</view>
                    <view class="m-phone fl-right">-</view>
                </view>
            </view>

            <view class="addr-btn">
                <button class="btn"  bindtap="showConfirmBlock">确定</button>
            </view>
            
            <view class="notice link text-center" bindtap="newAddr">新增地址</view>

            
            <block wx:for="{{addrs}}" wx:key="id">
                <view class="m-box" >
                    <view class="m-info" bindtap="selectAddr" data-index="{{ index }}">
                        <view class="m-name fl-left">{{ item.alias }}</view>
                        <view class="m-phone fl-right">+</view>
                    </view>
                </view>
            </block>
            
        </view> -->

        <view class="other" hidden="{{other_block}}">
            <view class='section'>
                <view class="cash-box">
                    <view class="all-cash fl-left">运费：￥{{ freight }}</view>
                    <view class="Frozen-cash fl-right">油费：￥{{ amount }}</view>
                    <!-- <text>自动冻结金额1000元</text> -->
                </view>
            </view>

            <view class='section'>
                <view class="cash-box">
                    <view class="all-cash fl-left">总金额：￥{{ cost }}</view>
                    <!-- <view class="Frozen-cash fl-right">押金：￥{{ frozen }}</view> -->
                    <!-- <text>自动冻结金额1000元</text> -->
                </view>
            </view>

            <view class="section">
                <view class='main-color'>默认从当天晚上9点开始送</view>
                <view class="picker">
                    <view class="section__title">送达时间</view>
                    <input type="text" disabled name="time" value="{{datetime}}" bindtap="datetimePickerShow" />
                </view>
            </view>

            <view class="section">
                <view class="section__title">备注信息</view>
                <input placeholder="请填写备注信息" name="remarks" placeholder-style="z-index:1"/>
            </view>
            <button class="submit-order" formType="submit">提交订单</button>
        </view>


    </view>

    
</form>


</view>



<include src="../../comps/datetimePicker/index" />
